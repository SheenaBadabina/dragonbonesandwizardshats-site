<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Dragon Bones & Wizards Hats</title>
  <meta name="description" content="Fantasy short stories by Sheena — myth, magic, and wonder." />
  <link rel="icon" href="/assets/Logodbwh.png" />
  <style>
    :root{
      --bg:#0b0f12;
      --panel:#0f1419;
      --text:#e9f1f7;
      --muted:#9fb1c1;
      --brand:#1ce5bf;
      --brand-2:#0dd2ff;
      --accent:#ffd166;
      --shadow:0 10px 25px rgba(0,0,0,.45);
      --ring:0 0 0 8px rgba(28,229,191,.09),0 0 0 20px rgba(13,210,255,.05);
    }
    *{box-sizing:border-box}
    html,body{margin:0;background:var(--bg);color:var(--text);font:400 16px/1.6 system-ui,Segoe UI,Roboto,Inter,Arial,sans-serif}
    a{color:var(--brand-2);text-decoration:none}
    a:hover{text-decoration:underline}
    .wrap{max-width:1120px;margin:0 auto;padding:24px}
    header{
      position:sticky;top:0;z-index:20;background:rgba(11,15,18,.85);
      backdrop-filter:saturate(140%) blur(8px);border-bottom:1px solid #111;box-shadow:var(--shadow)
    }
    .brand{display:flex;align-items:center;gap:14px;font-weight:700}
    .brand img{width:40px;height:40px;border-radius:10px}
    .brand span{font-size:18px;letter-spacing:.2px}
    .nav{display:flex;gap:18px;margin-left:auto}
    .hamburger{display:none;margin-left:auto;background:none;border:0;color:var(--text);font-size:28px;cursor:pointer}
    .hero{
      position:relative;
      background:linear-gradient(180deg,rgba(0,0,0,.55),rgba(0,0,0,.85)),
                 url("/assets/Bannerdbwh.png") center/cover no-repeat;
      padding:56px 0 28px;border-bottom:1px solid #0c1116
    }
    h1{font-size:42px;line-height:1.12;margin:12px 0 12px}
    p.lede{color:var(--muted);max-width:60ch;margin:0 0 18px}
    .btn{
      display:inline-block;background:var(--brand);color:#041316;font-weight:700;
      padding:12px 18px;border-radius:12px;box-shadow:var(--ring);border:0
    }
    .section{padding:28px 0;border-top:1px solid #0e141b}
    h2{font-size:28px;margin:0 0 16px}
    .card{
      background:linear-gradient(180deg,#0f1419,#0c1015);
      border:1px solid #0f1a22;border-radius:16px;box-shadow:var(--shadow);overflow:hidden
    }
    .row{display:grid;grid-template-columns:120px 1fr;gap:18px;align-items:center;padding:16px}
    .thumb{width:120px;height:120px;border-radius:12px;object-fit:cover;background:#0b0f12}
    .title{font-size:20px;margin:0}
    .muted{color:var(--muted);margin:6px 0 0}
    .spacer{height:10px}
    footer{padding:36px 0;color:var(--muted);border-top:1px solid #0e141b}
    /* mobile */
    @media (max-width:760px){
      .row{grid-template-columns:1fr;gap:12px}
      .thumb{width:100%;height:180px}
      .nav{display:none}
      .hamburger{display:block}
      body.open .nav{
        position:fixed;inset:56px 12px auto 12px;display:flex;flex-direction:column;gap:12px;
        background:#0f1419;border:1px solid #0e141b;border-radius:14px;padding:14px;box-shadow:var(--shadow)
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="wrap" style="display:flex;align-items:center;gap:16px">
      <a class="brand" href="/">
        <img src="/assets/Logodbwh.png" alt="Dragon Bones & Wizards Hats logo">
        <span>Dragon Bones & Wizards Hats</span>
      </a>
      <nav class="nav">
        <a href="/">Home</a>
        <a href="/stories/index.html">Stories</a>
        <a href="/work-with-me.html">Work With Me</a>
        <a href="/contact.html">Contact</a>
      </nav>
      <button class="hamburger" aria-label="Menu" id="hamburger">☰</button>
    </div>
  </header>

  <section class="hero">
    <div class="wrap">
      <h1>Welcome to <span style="color:var(--brand)">Dragon Bones & Wizards Hats</span></h1>
      <p class="lede">Where fantasy stories come alive — told through time, myth, and magic. Each tale is written, narrated, and crafted with care by Sheena, for dreamers who still believe in wonder.</p>
      <a class="btn" href="/stories/index.html">Browse All Stories</a>
    </div>
  </section>

  <main class="wrap" id="main">
    <!-- Latest story (from stories/stories.json) -->
    <section class="section" id="latest">
      <h2>Latest Story</h2>
      <div class="card">
        <div class="row">
          <img class="thumb" id="latest-thumb" alt="" />
          <div>
            <h3 class="title" id="latest-title"></h3>
            <p class="muted" id="latest-desc"></p>
            <div class="spacer"></div>
            <a class="btn" id="latest-link" href="#">Read Now</a>
          </div>
        </div>
      </div>
    </section>

    <!-- Feature card with the static battle artwork -->
    <section class="section">
      <h2>The Battle of Magic & Flame</h2>
      <div class="card">
        <div class="row">
          <img class="thumb" id="battle-thumb" alt="Dragon and wizard battle artwork" />
          <div>
            <p class="muted">
              A glimpse into the world’s fiercest duel — a dragon’s flame against a wizard’s light.
            </p>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="wrap">
      © <span id="y"></span> Dragon Bones & Wizards Hats • <a href="/privacy-policy.html">Privacy</a> • <a href="/terms-of-use.html">Terms</a>
    </div>
  </footer>

  <script>
    // Utility: safe asset URL for filenames with spaces, parentheses, etc.
    function assetUrl(file){
      // Always serve from /assets/
      return "/assets/" + encodeURIComponent(file);
    }

    // Fix the hamburger menu
    const hamburger = document.getElementById('hamburger');
    hamburger.addEventListener('click', ()=> document.body.classList.toggle('open'));
    document.addEventListener('click', (e)=>{
      if(!e.target.closest('header')) document.body.classList.remove('open');
    });

    // Year
    document.getElementById('y').textContent = new Date().getFullYear();

    // Static battle card image (filename contains spaces)
    const battleFilename = "Wizard dragon battle.png";
    document.getElementById('battle-thumb').src = assetUrl(battleFilename);

    // Load latest story from stories/stories.json
    // Expected JSON shape:
    // {
    //   "stories":[
    //     {
    //       "slug":"the-thief-who-destroyed-time",
    //       "title":"The Thief Who Destroyed Time (And Had to Fix It)",
    //       "description":"Short blurb of the story...",
    //       "image":"The Thief Who Destroyed Time (And Had to Fix It).png",
    //       "dateAdded":"2025-10-05"
    //     }
    //   ]
    // }
    fetch("/stories/stories.json", {cache:"no-store"})
      .then(r => r.ok ? r.json() : Promise.reject(r))
      .then(data => {
        if(!data || !Array.isArray(data.stories) || !data.stories.length) throw new Error("No stories");
        // Pick latest by dateAdded (fallback to first)
        const latest = data.stories.slice().sort((a,b)=>{
          return new Date(b.dateAdded||0) - new Date(a.dateAdded||0);
        })[0];

        const title = latest.title || "Latest Story";
        const desc  = latest.description || "";
        const img   = latest.image || "";
        const slug  = latest.slug || "";

        document.getElementById('latest-title').textContent = title;
        document.getElementById('latest-desc').textContent  = desc;
        document.getElementById('latest-link').href         = "/stories/" + (slug ? encodeURIComponent(slug) + ".html" : "index.html");

        const thumb = document.getElementById('latest-thumb');
        if(img){
          thumb.src = assetUrl(img);
          thumb.alt = title + " artwork";
        }else{
          thumb.alt = title;
        }
      })
      .catch(() => {
        // Graceful fallback if JSON missing
        const title = "The Thief Who Destroyed Time (And Had to Fix It)";
        const img   = "The Thief Who Destroyed Time (And Had to Fix It).png";
        document.getElementById('latest-title').textContent = title;
        document.getElementById('latest-desc').textContent  = "When Raven steals Chronus’s Hourglass of Hours, tomorrow begins to unravel. To fix time, she must give up part of her own life.";
        document.getElementById('latest-link').href         = "/stories/the-thief-who-destroyed-time.html";
        const thumb = document.getElementById('latest-thumb');
        thumb.src = assetUrl(img);
        thumb.alt = title + " artwork";
      });
  </script>
</body>
</html>
